<section id="shows" class="py-30">
  <div
    class="custom-container sm:max-w-[33.75rem] md:max-w-[60rem] xl:max-w-[71.25rem]"
  >
    <h2
      class="text-main text-5xl font-bold drop-shadow-sm drop-shadow-orange-600/70 text-center relative after:w-20 after:h-0.5 after:absolute after:start-1/2 after:top-[160%] after:-translate-x-1/2 after:bg-main"
    >
      Trending Shows
    </h2>
    <p class="text-center text-xl text-text-main mt-10">
      Explore most trending shows this year
    </p>
    <div
      class="mt-9 grid gap-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4"
    >
      @for(trendingShow of trendingShows ; track trendingShow.id) {
      <moviecard
        [title]="trendingShow.title || trendingShow.name"
        [imgSrc]="imgBase + trendingShow.poster_path"
        [rate]="truncFloatingPointNumber(trendingShow.vote_average, 1)"
        [releaseDate]="trendingShow.release_date || trendingShow.first_air_date"
        [overview]="trendingShow.overview"
        [genreIdList]="trendingShow.genre_ids"
        [genreList]="officialGenresList"
      ></moviecard>
      }
    </div>
    <h2
      #recommendedShows
      class="text-main text-5xl font-bold drop-shadow-sm drop-shadow-orange-600/70 text-center relative after:w-20 after:h-0.5 after:absolute after:start-1/2 after:top-[160%] after:-translate-x-1/2 after:bg-main mt-15"
    >
      Recommended Shows
    </h2>
    @defer(on viewport(recommendedShows)){
    <app-recommended>
      <div
        class="mt-15 grid gap-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4"
      >
        @for(trendingShow of trendingShows.slice(0,8) ; track trendingShow.id) {
        <moviecard
          [title]="trendingShow.title || trendingShow.name"
          [imgSrc]="imgBase + trendingShow.poster_path"
          [rate]="truncFloatingPointNumber(trendingShow.vote_average, 1)"
          [releaseDate]="
            trendingShow.release_date || trendingShow.first_air_date
          "
          [overview]="trendingShow.overview"
          [genreIdList]="trendingShow.genre_ids"
          [genreList]="officialGenresList"
        ></moviecard>
        }
      </div></app-recommended
    >}@loading {
    <div class="mt-15 w-full flex justify-center items-center">
      <span class="loader"></span>
    </div>
    }@error {
    <div class="mt-15 w-full flex justify-center items-center">
      <span class="text-red-800 font-extrabold text-2xl"
        >Error Loading ...</span
      >
    </div>
    }
  </div>
</section>
