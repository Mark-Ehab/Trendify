import{c as T}from"./chunk-MRHIJ3LG.js";import{Aa as h,Ca as D,La as L,M as y,Ma as G,Oa as S,Pa as b,Q as f,Qa as E,Ra as m,Sa as l,Ta as v,Ua as o,Va as a,Wa as d,Xa as O,Za as u,db as n,eb as x,fb as _,oa as I,qa as s}from"./chunk-MIKK7PRU.js";var c=class i{title;overview;imgSrc;releaseDate;rate;genreIdList;genreList;genreNameList;getGenresNamesListForEachShow(t,e){let r=[];for(let p=0;p<t.length&&p<2;p++)for(let g=0;g<e.length;g++)if(t[p]==e[g].id){r.push(e[g].name);break}return r}ngOnInit(){this.genreNameList=this.getGenresNamesListForEachShow(this.genreIdList,this.genreList)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["moviecard"]],inputs:{title:"title",overview:"overview",imgSrc:"imgSrc",releaseDate:"releaseDate",rate:"rate",genreIdList:"genreIdList",genreList:"genreList"},decls:30,vars:7,consts:[[1,"size-full","bg-white","rounded-2xl","shadow-[0_0_10px]","shadow-main","dark:bg-white","min-h-[25rem]","overflow-hidden","cursor-pointer","group/moviecard"],[1,"w-full","h-[12.5rem]","relative","overflow-hidden"],[1,"size-full","rounded-t-2xl","shadow-[0_0_5px]","shadow-main","group-hover/moviecard:blur-xs","group-hover/moviecard:scale-130","transition-transform","duration-500",3,"src","alt"],[1,"overlay","top-0","left-0","p-5","absolute","size-full","hidden","group-hover/moviecard:flex","group-hover/moviecard:flex-col","group-hover/moviecard:items-center"],[1,"flex","justify-between","w-full"],[1,"block","bg-white","py-[.0781rem]","px-2","rounded-2xl"],[1,"fa-regular","fa-bookmark","fa-sm","text-main","hover:text-yellow-400","duration-300","transition-colors"],[1,"flex","items-center","font-bold","bg-white","rounded-md","px-2","text-[.8125rem]","leading-3"],[1,"fa-regular","fa-star","text-main","me-[.3125rem]"],[1,"h-full","flex","justify-center","items-center"],[1,"fa-regular","fa-play-circle","fa-3x","text-white/50"],[1,"p-4"],[1,"mb-2","text-md","font-bold","tracking-tight","text-main","leading-8"],[1,"mb-2.5"],[1,"text-sm","text-text-main","font-semibold"],[1,"text-xs","text-gray-600"],[1,"leading-normal"],[1,"text-sm","text-gray-600","line-clamp-3"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"figure",1),d(2,"img",2),o(3,"div",3)(4,"div",4)(5,"span",5),d(6,"i",6),a(),o(7,"span",7),d(8,"i",8),n(9),a()(),o(10,"div",9),d(11,"i",10),a()()(),o(12,"div",11)(13,"h3",12),n(14),a(),o(15,"p",13)(16,"span",14),n(17,"Genre: "),a(),o(18,"span",15),n(19),a()(),o(20,"p",13)(21,"span",14),n(22,"Release Date: "),a(),o(23,"span",15),n(24),a()(),o(25,"p",16)(26,"span",14),n(27,"Overview: "),a(),o(28,"span",17),n(29),a()()()()),e&2&&(s(2),O("src",r.imgSrc,I)("alt",r.title),s(7),_("",r.rate," "),s(5),_(" ",r.title," "),s(5),x(r.genreNameList.join("/")),s(5),x(r.releaseDate),s(5),x(r.overview.split(" ",10).join(" ")))},encapsulation:2})};var w=class i{httpClient=f(T);tmdbBaseUrl="https://api.themoviedb.org/3";apiKey="48d62e7452a1f1a5e6018217ac27c50a";language="en-US";getTrendingShows(){return this.httpClient.get(`${this.tmdbBaseUrl}/trending/all/day?api_key=${this.apiKey}&language=${this.language}`)}getOfficialGenresList(){return this.httpClient.get(`${this.tmdbBaseUrl}/genre/movie/list?api_key=${this.apiKey}&language=${this.language}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=y({token:i,factory:i.\u0275fac,providedIn:"root"})};var $=()=>[c,import("./chunk-JSC7ZMMI.js").then(i=>i.Recommended)],M=(i,t)=>t.id;function k(i,t){if(i&1&&v(0,"moviecard",6),i&2){let e=t.$implicit,r=u();E("title",e.title||e.name)("imgSrc",r.imgBase+e.poster_path)("rate",r.truncFloatingPointNumber(e.vote_average,1))("releaseDate",e.release_date||e.first_air_date)("overview",e.overview)("genreIdList",e.genre_ids)("genreList",r.officialGenresList)}}function B(i,t){if(i&1&&v(0,"moviecard",6),i&2){let e=t.$implicit,r=u(2);E("title",e.title||e.name)("imgSrc",r.imgBase+e.poster_path)("rate",r.truncFloatingPointNumber(e.vote_average,1))("releaseDate",e.release_date||e.first_air_date)("overview",e.overview)("genreIdList",e.genre_ids)("genreList",r.officialGenresList)}}function P(i,t){if(i&1&&(m(0,"app-recommended")(1,"div",8),S(2,B,1,7,"moviecard",6,M),l()()),i&2){let e=u();s(2),b(e.trendingShows.slice(0,8))}}function j(i,t){i&1&&(m(0,"div",9),v(1,"span",10),l())}function U(i,t){i&1&&(m(0,"div",9)(1,"span",11),n(2,"Error Loading ..."),l()())}var F=class i{TMDB_API=f(w);imgBase="https://image.tmdb.org/t/p/w500";trendingShows=[];trendingShowsSubscription;officialGenresList=[];officialGenresListSubscription;getOfficialGenresListData(){this.officialGenresListSubscription=this.TMDB_API.getOfficialGenresList().subscribe({next:t=>{this.officialGenresList=t.genres,console.log(t.genres)},error:t=>console.log(`%c ${t.message}`,"color:red")})}getTrendingShowsData(){this.trendingShowsSubscription=this.TMDB_API.getTrendingShows().subscribe({next:t=>{this.trendingShows=t.results,console.log(t.results)},error:t=>console.log(`%c ${t.message}`,"color:red")})}truncFloatingPointNumber(t,e){return t.toFixed(e)}ngOnInit(){this.getOfficialGenresListData(),this.getTrendingShowsData()}ngOnDestroy(){this.officialGenresListSubscription.unsubscribe(),this.trendingShowsSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-shows"]],decls:17,vars:0,consts:[["recommendedShows",""],["id","shows",1,"py-30"],[1,"custom-container","sm:max-w-[33.75rem]","md:max-w-[60rem]","xl:max-w-[71.25rem]"],[1,"text-main","text-5xl","font-bold","drop-shadow-sm","drop-shadow-orange-600/70","text-center","relative","after:w-20","after:h-0.5","after:absolute","after:start-1/2","after:top-[160%]","after:-translate-x-1/2","after:bg-main"],[1,"text-center","text-xl","text-text-main","mt-10"],[1,"mt-9","grid","gap-5","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4"],[3,"title","imgSrc","rate","releaseDate","overview","genreIdList","genreList"],[1,"text-main","text-5xl","font-bold","drop-shadow-sm","drop-shadow-orange-600/70","text-center","relative","after:w-20","after:h-0.5","after:absolute","after:start-1/2","after:top-[160%]","after:-translate-x-1/2","after:bg-main","mt-15"],[1,"mt-15","grid","gap-5","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4"],[1,"mt-15","w-full","flex","justify-center","items-center"],[1,"loader"],[1,"text-red-800","font-extrabold","text-2xl"]],template:function(e,r){e&1&&(m(0,"section",1)(1,"div",2)(2,"h2",3),n(3," Trending Shows "),l(),m(4,"p",4),n(5," Explore most trending shows this year "),l(),m(6,"div",5),S(7,k,1,7,"moviecard",6,M),l(),m(9,"h2",7,0),n(11," Recommended Shows "),l(),D(12,P,4,0)(13,j,2,0)(14,U,3,0),L(15,12,$,13,null,14),G(9),l()()),e&2&&(s(7),b(r.trendingShows))},dependencies:[c],encapsulation:2})};export{F as Shows};
